{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\badri\\\\OneDrive\\\\Desktop\\\\StudentResults\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from'react';import Select from'react-select';import axios from'axios';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddResults=/*#__PURE__*/function(_Component){_inherits(AddResults,_Component);var _super=_createSuper(AddResults);function AddResults(props){var _this;_classCallCheck(this,AddResults);_this=_super.call(this,props);_this.state={selectOptions:[],dep:'',sems:'',sub:'',reg:'',dept:[],sem:[],roll:[],year:'',xi:{},grad:[],gra:''};return _this;}_createClass(AddResults,[{key:\"getOptions\",value:function(){var _getOptions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var depths,sem,grade,gra,depts,sems;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:depths=['CSE','ECE','EEE','CIVIL','MECH','ECM','IT'];sem=['1-1','1-2','2-1','2-2','3-1','3-2','4-1','4-2'];grade=['O','A','B','C','D','E','F'];gra=grade.map(function(d){return{\"value\":d,\"label\":d};});depts=depths.map(function(d){return{\"value\":d,\"label\":d};});sems=sem.map(function(d){return{\"value\":d,\"label\":d};});this.setState({grad:gra,dept:depts,sem:sems});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function getOptions(){return _getOptions.apply(this,arguments);}return getOptions;}()},{key:\"handledept\",value:function handledept(e){this.setState({dep:e.value});}},{key:\"handlesem\",value:function handlesem(e){this.setState({sems:e.value});}},{key:\"handleyear\",value:function handleyear(e){var x=String(e.target.value);this.setState({year:x});}},{key:\"handleroll\",value:function handleroll(e){this.setState({reg:e.value});}},{key:\"handlegrad\",value:function handlegrad(e,x){this.state.xi[x]=e.value;//  console.log(this.state.xi);\n}},{key:\"handledet\",value:function handledet(e){var _this2=this;e.preventDefault();var depart=this.state.dep;var year=this.state.year;var semister=this.state.sems;//  const navigate = useNavigate();\n//  console.log(this.state.xi);\naxios.post('https://vignanminiproject.herokuapp.com/findstudent',{year:year,depart:depart}).then(function(res){if(res.data.message===\"No Students\"){// window.open(\"/addresults\");\nalert(res.data.message);}else{var dep=res.data.data.map(function(d){return{\"value\":d.Reg,\"label\":d.Reg};});_this2.setState({roll:dep});//  alert(res.data.message);\n}//  alert(res.data.message);\n}).catch(function(err){return console.log(err);});axios.post('https://vignanminiproject.herokuapp.com/findsub',{depart:depart,semister:semister}).then(function(res){if(res.data.message!=\"Successful !\"){// window.open(\"/addresults\");\nalert(res.data.message);}else{_this2.setState({selectOptions:res.data.data});//  alert(res.data.message);\n}}).catch(function(err){return console.log(err);});}},{key:\"handlesubmit\",value:function handlesubmit(e){e.preventDefault();var depart=this.state.dep;var semister=this.state.sems;//    axios.post('http://localhost:3001/mansub',{\n//     subject,\n//     depart,\n//     semister\n//    }).then(res=>alert(res.data.message)).catch(err=> console.log(err))\n}},{key:\"handlesubmits\",value:function handlesubmits(e){e.preventDefault();var depart=this.state.dep;var semister=this.state.sems;var year=this.state.year;var reg=this.state.reg;var re=this.state.xi;var a=[];for(var key in re){var y={\"sub\":key,\"grade\":re[key]};a.push(y);}// console.log(a);\naxios.post('https://vignanminiproject.herokuapp.com/decres',{year:year,reg:reg,a:a,depart:depart,semister:semister}).then(function(res){return alert(res.data.message);}).catch(function(err){return console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getOptions();}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{id:\"bd\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"stad\",className:\"shadow-sm p-3 mb-5 bg-white rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Student Results\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"head\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Fill the Results\"}),/*#__PURE__*/_jsx(Link,{to:\"/results\",className:\"lin\",style:{textDecoration:'none'},children:\"Upload Through Excel\"}),/*#__PURE__*/_jsx(Link,{to:\"/supply\",className:\"lin\",style:{textDecoration:'none'},children:\"Add Supply Results Here\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"forms\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlSelect2\",children:\"Department\"}),/*#__PURE__*/_jsx(Select,{class:\"form-control\",id:\"exampleFormControlSelect2\",options:this.state.dept,onChange:this.handledept.bind(this),placeholder:\"Select Department\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",children:\"Semister\"}),/*#__PURE__*/_jsx(Select,{class:\"form-control\",id:\"exampleFormControlInput1\",placeholder:\"Select Semister\",options:this.state.sem,onChange:this.handlesem.bind(this)})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput4\",children:\"Graduation Year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleFormControlInput4\",placeholder:\"Enter Graduation Year\",value:this.state.year,onChange:this.handleyear.bind(this)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{marginBottom:'10px'},onClick:this.handledet.bind(this),children:\"Get Details\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput3\",children:\"Registration Number\"}),/*#__PURE__*/_jsx(Select,{class:\"form-control\",id:\"exampleFormControlInput3\",placeholder:\"Enter Graduation Year\",options:this.state.roll,onChange:this.handleroll.bind(this)})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group overflow-auto at\",children:this.state.selectOptions.map(function(di){return/*#__PURE__*/_jsxs(\"div\",{class:\"form-group overflow-auto\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput4\",children:di}),/*#__PURE__*/_jsx(Select,{class:\"form-control sel\",id:\"exampleFormControlInput4\",options:_this3.state.grad,onChange:function onChange(e){return _this3.handlegrad(e,di);}})]},_this3.state.selectOptions.indexOf(di));})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.handlesubmits.bind(this),children:\"Add Results\"})]})})]})})// <div>\n//   <h1>Declare Result</h1>\n//   <form >\n//   <label htmlFor=\"dept\">Select Department:</label>\n//   <Select id=\"dept\" options={this.state.dept} onChange={this.handledept.bind(this)} />\n//   <label htmlFor=\"sem\">Select Semister:</label>\n//   <Select id=\"sem\" options={this.state.sem} onChange={this.handlesem.bind(this)} />\n//   <label htmlFor=\"year\">Select Graduation Year:</label>\n//   <input type=\"text\" value={this.state.year} onChange={this.handleyear.bind(this)} />\n//   <button onClick={this.handledet.bind(this)}>Get Details</button>\n//   <div>\n//   <label htmlFor=\"Reg\">Registration Number</label>\n//   <Select id=\"Reg\" options={this.state.roll} onChange={this.handleroll.bind(this)} />\n//   {\n//     this.state.selectOptions.map(di=>{\n//       return(\n//           <div key={this.state.selectOptions.indexOf(di)}>\n//           <label htmlFor={di}>{di}</label>\n//           <Select id={di}  options={this.state.grad} onChange={(e)=> this.handlegrad(e,di)} />\n//           </div>\n//       )\n//     }) \n//   }\n//   </div>\n//   <button onClick={this.handlesubmits.bind(this)}>Add Results</button>\n//   </form>\n//   <Link to=\"/results\" className=\"link\">Upload Through Excel</Link>\n//   <Link to=\"/supply\" className=\"link\" >Add Supply Results Here</Link>\n// </div>\n;}}]);return AddResults;}(Component);export{AddResults as default};","map":{"version":3,"sources":["C:/Users/badri/OneDrive/Desktop/StudentResults/client/src/components/AddResults.jsx"],"names":["React","Component","Select","axios","Link","AddResults","props","state","selectOptions","dep","sems","sub","reg","dept","sem","roll","year","xi","grad","gra","depths","grade","map","d","depts","setState","e","value","x","String","target","preventDefault","depart","semister","post","then","res","data","message","alert","Reg","catch","err","console","log","re","a","key","y","push","getOptions","textDecoration","handledept","bind","handlesem","handleyear","marginBottom","handledet","handleroll","di","handlegrad","indexOf","handlesubmits"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport axios from 'axios'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class AddResults extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      selectOptions : [],\r\n      dep:'',\r\n      sems:'',\r\n      sub:'',\r\n      reg:'',\r\n      dept:[],\r\n      sem:[],\r\n      roll:[],\r\n      year:'',\r\n      xi:{},\r\n      grad:[],\r\n      gra:'',\r\n    }\r\n  }\r\n\r\n async getOptions(){\r\n    const depths = ['CSE','ECE','EEE','CIVIL','MECH','ECM','IT']\r\n    const sem = ['1-1','1-2','2-1','2-2','3-1','3-2','4-1','4-2']\r\n    const grade = ['O','A','B','C','D','E','F']\r\n\r\n    const gra = grade.map(d=>({\r\n      \"value\":d,\r\n      \"label\":d,\r\n    }))\r\n\r\n    const depts = depths.map(d=>({\r\n        \"value\":d,\r\n        \"label\":d\r\n    }))\r\n\r\n    const sems = sem.map(d=>({\r\n        \"value\":d,\r\n        \"label\":d\r\n    }))\r\n    this.setState({grad:gra,dept:depts,sem:sems})\r\n  }\r\n\r\n\r\n\r\n   handledept(e){\r\n    this.setState({dep:e.value})\r\n   }\r\n\r\n   handlesem(e){\r\n    this.setState({sems:e.value})\r\n   }\r\n   handleyear(e){\r\n     var x = String(e.target.value);\r\n     this.setState({year:x})\r\n   }\r\n   handleroll(e){\r\n     this.setState({reg:e.value});\r\n   }\r\n   handlegrad(e,x){\r\n       this.state.xi[x]=e.value;\r\n      //  console.log(this.state.xi);\r\n  }\r\n   handledet(e){\r\n     e.preventDefault();\r\n\r\n     const depart = this.state.dep;\r\n     const year = this.state.year;\r\n     const semister = this.state.sems;\r\n    //  const navigate = useNavigate();\r\n           \r\n    //  console.log(this.state.xi);\r\n     \r\n        axios.post('https://vignanminiproject.herokuapp.com/findstudent',{\r\n        year,\r\n        depart\r\n       }).then(res=>{\r\n         if(res.data.message===\"No Students\")\r\n         {\r\n            // window.open(\"/addresults\");\r\n            alert(res.data.message);\r\n         }\r\n         else\r\n         {\r\n          const dep = res.data.data.map(d=>({\r\n            \"value\":d.Reg,\r\n            \"label\":d.Reg\r\n            }))\r\n           this.setState({roll:dep});\r\n          //  alert(res.data.message);\r\n         }\r\n        //  alert(res.data.message);\r\n       }).catch(err=> console.log(err))\r\n\r\n\r\n       axios.post('https://vignanminiproject.herokuapp.com/findsub',{\r\n        depart,\r\n        semister\r\n       }).then(res=>{\r\n         if(res.data.message!=\"Successful !\")\r\n         {\r\n          // window.open(\"/addresults\");\r\n          alert(res.data.message);\r\n         }\r\n         else\r\n         {\r\n         this.setState({selectOptions:res.data.data})\r\n        //  alert(res.data.message);\r\n         }\r\n        }).catch(err=> console.log(err))\r\n\r\n   }\r\n\r\n   handlesubmit(e){\r\n       e.preventDefault();\r\n      \r\n       const depart = this.state.dep;\r\n       const semister = this.state.sems;\r\n\r\n    //    axios.post('http://localhost:3001/mansub',{\r\n    //     subject,\r\n    //     depart,\r\n    //     semister\r\n    //    }).then(res=>alert(res.data.message)).catch(err=> console.log(err))\r\n   }\r\n\r\n   handlesubmits(e){\r\n    e.preventDefault();\r\n   \r\n    const depart = this.state.dep;\r\n    const semister = this.state.sems;\r\n    const year = this.state.year;\r\n    const reg = this.state.reg;\r\n    const re = this.state.xi;\r\n    const a=[];\r\n    for (const key in re) {\r\n      const y={\"sub\":key,\"grade\":re[key]};\r\n      a.push(y);\r\n    }\r\n    // console.log(a);\r\n\r\n    \r\n\r\n    axios.post('https://vignanminiproject.herokuapp.com/decres',{\r\n     year,\r\n     reg,\r\n     a,\r\n     depart,\r\n     semister\r\n    }).then(res=>alert(res.data.message)).catch(err=> console.log(err))\r\n}\r\n\r\n  componentDidMount(){\r\n      this.getOptions()\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div id=\"bd\">\r\n        <div id=\"stad\" className=\"shadow-sm p-3 mb-5 bg-white rounded\">\r\n        <h1>Student Results</h1>\r\n        <div id=\"head\">\r\n        <h3>Fill the Results</h3>\r\n        <Link to=\"/results\" className=\"lin\" style={{textDecoration:'none'}} >Upload Through Excel</Link>\r\n        <Link to=\"/supply\" className=\"lin\" style={{textDecoration:'none'}}>Add Supply Results Here</Link>\r\n        </div>\r\n        <div id=\"forms\">\r\n        <form>\r\n        <div class=\"form-group\">\r\n            <label for=\"exampleFormControlSelect2\">Department</label>\r\n            <Select class=\"form-control\" id=\"exampleFormControlSelect2\" options={this.state.dept} onChange={this.handledept.bind(this)} placeholder=\"Select Department\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleFormControlInput1\">Semister</label>\r\n            <Select class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Select Semister\" options={this.state.sem} onChange={this.handlesem.bind(this)} />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleFormControlInput4\">Graduation Year</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"exampleFormControlInput4\" placeholder=\"Enter Graduation Year\"  value={this.state.year} onChange={this.handleyear.bind(this)} />\r\n          </div>\r\n           <button className=\"btn btn-primary\" style={{ marginBottom:'10px'}} onClick={this.handledet.bind(this)}>Get Details</button>\r\n           <div class=\"form-group\">\r\n            <label for=\"exampleFormControlInput3\">Registration Number</label>\r\n            <Select class=\"form-control\" id=\"exampleFormControlInput3\" placeholder=\"Enter Graduation Year\" options={this.state.roll} onChange={this.handleroll.bind(this)} />\r\n          </div>\r\n          <div class=\"form-group overflow-auto at\">\r\n          {\r\n              this.state.selectOptions.map(di=>{\r\n                return(\r\n                    <div class=\"form-group overflow-auto\" key={this.state.selectOptions.indexOf(di)}>\r\n                    <label for=\"exampleFormControlInput4\">{di}</label>\r\n                    <Select class=\"form-control sel\" id=\"exampleFormControlInput4\"  options={this.state.grad} onChange={(e)=> this.handlegrad(e,di)} />\r\n                    </div>\r\n                )\r\n              }) \r\n            }\r\n          </div>\r\n         <button className=\"btn btn-success\" onClick={this.handlesubmits.bind(this)}>Add Results</button>\r\n        </form>\r\n        </div>\r\n      </div>\r\n      </div>\r\n      // <div>\r\n      //   <h1>Declare Result</h1>\r\n      //   <form >\r\n      //   <label htmlFor=\"dept\">Select Department:</label>\r\n      //   <Select id=\"dept\" options={this.state.dept} onChange={this.handledept.bind(this)} />\r\n      //   <label htmlFor=\"sem\">Select Semister:</label>\r\n      //   <Select id=\"sem\" options={this.state.sem} onChange={this.handlesem.bind(this)} />\r\n      //   <label htmlFor=\"year\">Select Graduation Year:</label>\r\n      //   <input type=\"text\" value={this.state.year} onChange={this.handleyear.bind(this)} />\r\n      //   <button onClick={this.handledet.bind(this)}>Get Details</button>\r\n        \r\n      //   <div>\r\n      //   <label htmlFor=\"Reg\">Registration Number</label>\r\n      //   <Select id=\"Reg\" options={this.state.roll} onChange={this.handleroll.bind(this)} />\r\n      //   {\r\n          \r\n      //     this.state.selectOptions.map(di=>{\r\n      //       return(\r\n      //           <div key={this.state.selectOptions.indexOf(di)}>\r\n      //           <label htmlFor={di}>{di}</label>\r\n      //           <Select id={di}  options={this.state.grad} onChange={(e)=> this.handlegrad(e,di)} />\r\n      //           </div>\r\n      //       )\r\n      //     }) \r\n      //   }\r\n      //   </div>\r\n      //   <button onClick={this.handlesubmits.bind(this)}>Add Results</button>\r\n      //   </form>\r\n\r\n      //   <Link to=\"/results\" className=\"link\">Upload Through Excel</Link>\r\n      //   <Link to=\"/supply\" className=\"link\" >Add Supply Results Here</Link>\r\n      // </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}