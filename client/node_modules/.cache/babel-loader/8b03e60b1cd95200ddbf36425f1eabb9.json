{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/badri/OneDrive/Desktop/StudentResults/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\badri\\\\OneDrive\\\\Desktop\\\\StudentResults\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import\"../css/Forms.css\";import{useState}from'react';// import { Navigate } from \"react-router-dom\";\nimport{Navigate,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form2=function Form2(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),reg=_useState2[0],setreg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setpass=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setpassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lreg=_useState8[0],setlreg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),lpassword=_useState10[0],setlpassword=_useState10[1];var navigate=useNavigate();var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),x=_useState12[0],setx=_useState12[1];var _useState13=useState(localStorage.getItem('reg')),_useState14=_slicedToArray(_useState13,2),te=_useState14[0],sette=_useState14[1];var toggleForm1=function toggleForm1(){var container=document.querySelector('.container2');container.classList.toggle('active');};var handlesubmit1=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// console.log(reg,pass,password);\n_context.next=3;return fetch('https://vignanminiproject.herokuapp.com/studpass',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({reg:reg,pass:pass,password:password})});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;if(data.status==='ok'){setreg(\"\");setpassword(\"\");setpass(\"\");alert(data.message);}else{alert(data.message);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handlesubmit1(_x){return _ref.apply(this,arguments);};}();var handlesubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();// console.log(lreg,lpassword);\n_context2.next=3;return fetch('https://vignanminiproject.herokuapp.com/studlogin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({lreg:lreg,lpassword:lpassword})});case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;if(data.status==='ok'){x.push(data.data);localStorage.setItem('profile',JSON.stringify(x[0]));localStorage.setItem('reg',lreg);setlreg(\"\");setlpassword(\"\");setx([]);navigate(\"/mainstud\");}else{alert(data.message);}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function handlesubmit(_x2){return _ref2.apply(this,arguments);};}();var Fun=function Fun(){return/*#__PURE__*/_jsx(\"section\",{className:\"user1\",id:\"user1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user signinBx\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgBx\",children:/*#__PURE__*/_jsx(\"lottie-player\",{src:\"https://assets4.lottiefiles.com/packages/lf20_uqsv3ztj.json\",background:\"transparent\",speed:\"1\",style:{width:\"100%\",height:\"100%\"},loop:true,autoplay:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"formBx\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlesubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Sign In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:lreg,onChange:function onChange(event){return setlreg(event.target.value);},placeholder:\"Registration id\",id:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:lpassword,onChange:function onChange(event){return setlpassword(String(event.target.value));},placeholder:\"Password\",id:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"signin\",value:\"Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signup\",children:[\"Do you want to change the password ?\",/*#__PURE__*/_jsx(\"a\",{onClick:toggleForm1,children:\"Change Password\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user signupBx\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"formBx\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlesubmit1,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Change Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reg,onChange:function onChange(event){return setreg(event.target.value);},placeholder:\"Registration id\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:pass,onChange:function onChange(event){return setpass(event.target.value);},placeholder:\"Old Password\",id:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,onChange:function onChange(event){return setpassword(event.target.value);},placeholder:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"signup\",value:\"Change\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signup\",children:[\"Already have an account ?\",/*#__PURE__*/_jsx(\"a\",{onClick:toggleForm1,children:\"Sign in\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgBx\",children:/*#__PURE__*/_jsx(\"lottie-player\",{src:\"https://assets4.lottiefiles.com/packages/lf20_ncpnijkz.json\",background:\"transparent\",speed:\"1\",style:{width:\"100%\",height:\"100%\"},loop:true,autoplay:true})})]})]})});};return te?/*#__PURE__*/_jsx(Navigate,{to:\"/mainstud\"}):/*#__PURE__*/_jsx(Fun,{});};export default Form2;","map":{"version":3,"sources":["C:/Users/badri/OneDrive/Desktop/StudentResults/client/src/components/Form2.jsx"],"names":["React","useState","Navigate","useNavigate","Form2","reg","setreg","pass","setpass","password","setpassword","lreg","setlreg","lpassword","setlpassword","navigate","x","setx","localStorage","getItem","te","sette","toggleForm1","container","document","querySelector","classList","toggle","handlesubmit1","e","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","data","status","alert","message","handlesubmit","push","setItem","Fun","width","height","event","target","value","String"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport \"../css/Forms.css\"\r\nimport { useState } from 'react'\r\n// import { Navigate } from \"react-router-dom\";\r\nimport { Navigate, useNavigate} from 'react-router-dom'\r\n\r\n\r\n\r\n\r\nconst Form2 = () => {\r\n    const [reg,setreg] = useState(\"\");\r\n    const [pass,setpass] = useState(\"\");\r\n    const [password,setpassword] = useState(\"\");\r\n    const [lreg,setlreg] = useState(\"\");\r\n    const [lpassword,setlpassword] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const [x,setx] = useState([]);\r\n    const [te,sette] =  useState(localStorage.getItem('reg'));\r\n\r\n    const toggleForm1 = () => {\r\n        var container = document.querySelector('.container2');\r\n        container.classList.toggle('active')\r\n    }\r\n\r\n    const handlesubmit1 = async(e) => {\r\n        e.preventDefault();\r\n\r\n        // console.log(reg,pass,password);\r\n\r\n        const res = await fetch('https://vignanminiproject.herokuapp.com/studpass',{\r\n            method:'POST',\r\n            headers: {\r\n                 'Content-Type' : 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                reg,\r\n                pass,\r\n                password\r\n            })\r\n        })\r\n\r\n        const data = await res.json()\r\n        if(data.status === 'ok'){\r\n            setreg(\"\");\r\n            setpassword(\"\");\r\n            setpass(\"\");\r\n            alert(data.message);\r\n        }\r\n        else{\r\n            alert(data.message);\r\n        }\r\n    }\r\n\r\n    const handlesubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        // console.log(lreg,lpassword);\r\n\r\n        const res = await fetch('https://vignanminiproject.herokuapp.com/studlogin',{\r\n            method:'POST',\r\n            headers: {\r\n                 'Content-Type' : 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                lreg,\r\n                lpassword\r\n            })\r\n        })\r\n\r\n        const data = await res.json()\r\n        if(data.status === 'ok'){\r\n            x.push(data.data);\r\n            localStorage.setItem('profile',JSON.stringify(x[0]));\r\n            localStorage.setItem('reg',lreg);\r\n            setlreg(\"\");\r\n            setlpassword(\"\");\r\n            setx([]);\r\n            navigate(\"/mainstud\");\r\n        }\r\n        else{\r\n            alert(data.message);\r\n        }\r\n    }\r\n\r\n    const Fun = () => {\r\n        return(\r\n            <section className=\"user1\" id=\"user1\">\r\n            <div className=\"container2\">\r\n                <div className=\"user signinBx\">\r\n                    <div className=\"imgBx\">\r\n                        <lottie-player src=\"https://assets4.lottiefiles.com/packages/lf20_uqsv3ztj.json\"  background=\"transparent\"  speed=\"1\"  style={{width: \"100%\" , height: \"100%\"}}  loop  autoplay></lottie-player>\r\n                    </div>\r\n                    <div className=\"formBx\">\r\n                        <form onSubmit={handlesubmit}>\r\n                            <h2>User Sign In</h2>\r\n                            <input type=\"text\" value={lreg} onChange={event => setlreg(event.target.value)} placeholder=\"Registration id\" id=\"Email\"/>\r\n                            <input type=\"text\" value={lpassword} onChange={event => setlpassword(String(event.target.value))} placeholder=\"Password\" id=\"Password\"/>\r\n                            <input type=\"submit\" id=\"signin\" value='Sign in'/>\r\n                            <p className=\"signup\">Do you want to change the password ?<a  onClick={toggleForm1}>Change Password</a></p>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"user signupBx\">\r\n                    <div className=\"formBx\">\r\n                        <form onSubmit={handlesubmit1}>\r\n                            <h2>Change Password</h2>\r\n                            <input type=\"text\"  value={reg} onChange={event => setreg(event.target.value)}  placeholder=\"Registration id\"/>\r\n                            <input type=\"text\"  value={pass} onChange={event => setpass(event.target.value)} placeholder=\"Old Password\" id=\"password\"/>\r\n                            <input type=\"text\"  value={password} onChange={event => setpassword(event.target.value)} placeholder=\"New Password\"/>\r\n                            <input type=\"submit\" id=\"signup\" value='Change'/>\r\n                            <p className=\"signup\">Already have an account ?<a  onClick={toggleForm1}>Sign in</a></p>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"imgBx\">\r\n                        <lottie-player src=\"https://assets4.lottiefiles.com/packages/lf20_ncpnijkz.json\"  background=\"transparent\"  speed=\"1\"  style={{width: \"100%\" , height: \"100%\"}}   loop  autoplay></lottie-player>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        )\r\n    }\r\n    \r\n  return ( te ? <Navigate to =\"/mainstud\" /> : <Fun/>)\r\n}\r\n\r\nexport default Form2"]},"metadata":{},"sourceType":"module"}